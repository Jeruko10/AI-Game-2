[gd_scene load_steps=19 format=3 uid="uid://bcookw6uqteh7"]

[ext_resource type="Script" uid="uid://wm2wwts40hf3" path="res://Scripts/Game/Display/MinionDisplay.cs" id="1_p8v5u"]
[ext_resource type="Script" uid="uid://lpcmsp8qjbfa" path="res://Scripts/Components/Visuals/SquashStretch2D.cs" id="2_p8v5u"]
[ext_resource type="Texture2D" uid="uid://bc7kty1blttki" path="res://Sprites/UnitSilouette.png" id="3_ov0v5"]
[ext_resource type="Script" uid="uid://ddbouw1uebof1" path="res://Scripts/Components/Visuals/ColorOverlayModule.cs" id="4_vlnlb"]
[ext_resource type="Script" uid="uid://ccsf7mfhim8f2" path="res://Scripts/Components/Visuals/OutlineModule.cs" id="5_2lrmb"]
[ext_resource type="Script" uid="uid://cvajy3piliv23" path="res://Scripts/Game/AI/MinionStates/MinionRootState.cs" id="6_ov0v5"]
[ext_resource type="Script" uid="uid://dcrbuq8ntqlcb" path="res://Scripts/Game/AI/MinionStates/AttackState.cs" id="7_7khbq"]
[ext_resource type="Script" uid="uid://hckjxsxkcxg3" path="res://Scripts/Game/AI/MinionStates/AttackState/AttackMoveState.cs" id="8_0d77l"]
[ext_resource type="Script" uid="uid://d1mcjbvr2r378" path="res://Scripts/Game/AI/MinionStates/AttackState/FallbackState.cs" id="10_r2jre"]
[ext_resource type="Script" uid="uid://bqc3lwtt2jwln" path="res://Scripts/Game/AI/MinionStates/AttackState/KamikazeState.cs" id="11_vpsd5"]
[ext_resource type="Script" uid="uid://tc7r88tblwbr" path="res://Scripts/Game/AI/MinionStates/DominateState.cs" id="12_mhus3"]
[ext_resource type="Script" uid="uid://c6cro0kyn2mfe" path="res://Scripts/Game/AI/MinionStates/DominateState/DominateMoveState.cs" id="13_arpwh"]
[ext_resource type="Script" uid="uid://d27ug3ovxg386" path="res://Scripts/Game/AI/MinionStates/DominateState/PrevailState.cs" id="14_vc3ld"]
[ext_resource type="Script" uid="uid://biqjm5i5b8yxi" path="res://Scripts/Game/AI/MinionStates/DefendState.cs" id="15_lbxym"]
[ext_resource type="Script" uid="uid://b3jrga6igpajh" path="res://Scripts/Game/AI/MinionStates/DefendState/ProtectTeammateState.cs" id="16_nmark"]
[ext_resource type="Script" uid="uid://bn1eu6yd7m3gi" path="res://Scripts/Game/AI/MinionStates/DefendState/SpreadState.cs" id="17_pibwr"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ov0v5"]
bg_color = Color(0.14406255, 0.14406255, 0.14406249, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 0.5181232, 0.45217043, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7khbq"]
bg_color = Color(0.3727572, 0.6863393, 0.36300448, 1)

[node name="Minion" type="Node2D" node_paths=PackedStringArray("RootState", "Sprite", "colorOverlay", "SquashAnimator", "FlashEffect", "OutlineModule", "HealthBar")]
script = ExtResource("1_p8v5u")
RootState = NodePath("HFSM")
Sprite = NodePath("SquashStretch2D/Sprite2D")
colorOverlay = NodePath("SquashStretch2D/ColorOverlay")
SquashAnimator = NodePath("SquashStretch2D")
FlashEffect = NodePath("ColorOverlayModule")
OutlineModule = NodePath("OutlineModule")
HealthBar = NodePath("HealthBar")
metadata/_edit_lock_ = true

[node name="SquashStretch2D" type="Node2D" parent="."]
script = ExtResource("2_p8v5u")
SquashFactor = 0.2
MaxValueThreshold = 1.0
MinValueThreshold = -1.0
DeadZone = 0.0
ImpactFactor = 1.0
ImpactDecay = 25.0
metadata/_custom_type_script = "uid://lpcmsp8qjbfa"
metadata/_edit_lock_ = true

[node name="Sprite2D" type="Sprite2D" parent="SquashStretch2D"]
texture = ExtResource("3_ov0v5")
metadata/_edit_lock_ = true

[node name="ColorOverlay" type="Sprite2D" parent="SquashStretch2D"]
texture = ExtResource("3_ov0v5")
metadata/_edit_lock_ = true

[node name="ColorOverlayModule" type="Node" parent="." node_paths=PackedStringArray("TargetNode")]
script = ExtResource("4_vlnlb")
TargetNode = NodePath("../SquashStretch2D/ColorOverlay")
metadata/_custom_type_script = "uid://ddbouw1uebof1"

[node name="OutlineModule" type="Node" parent="." node_paths=PackedStringArray("TargetNode")]
script = ExtResource("5_2lrmb")
TargetNode = NodePath("../SquashStretch2D/Sprite2D")
OutlineThickness = 1.5
metadata/_custom_type_script = "uid://ccsf7mfhim8f2"

[node name="HFSM" type="Node" parent="."]
script = ExtResource("6_ov0v5")
StateName = "Root"

[node name="AttackState" type="Node" parent="HFSM"]
script = ExtResource("7_7khbq")
StateName = "AttackState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="AttackMoveState" type="Node" parent="HFSM/AttackState"]
script = ExtResource("8_0d77l")
StateName = "AttackMoveState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="FallbackState" type="Node" parent="HFSM/AttackState"]
script = ExtResource("10_r2jre")
StateName = "FallbackState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="KamikazeState" type="Node" parent="HFSM/AttackState"]
script = ExtResource("11_vpsd5")
StateName = "KamikazeState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="DominateState" type="Node" parent="HFSM"]
script = ExtResource("12_mhus3")
StateName = "DominateState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="DominateMoveState" type="Node" parent="HFSM/DominateState"]
script = ExtResource("13_arpwh")
StateName = "DominateMoveState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="PrevailState" type="Node" parent="HFSM/DominateState"]
script = ExtResource("14_vc3ld")
StateName = "PrevailState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="DefendState" type="Node" parent="HFSM"]
script = ExtResource("15_lbxym")
StateName = "DefendState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="ProtectTeammateState" type="Node" parent="HFSM/DefendState"]
script = ExtResource("16_nmark")
StateName = "ProtectTeammateState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="SpreadState" type="Node" parent="HFSM/DefendState"]
script = ExtResource("17_pibwr")
StateName = "SpreadState"
metadata/_custom_type_script = "uid://c0xq6bpuq13mf"

[node name="HealthBar" type="ProgressBar" parent="."]
z_index = 1
offset_left = -59.0
offset_top = -64.0
offset_right = 59.85714
offset_bottom = -51.0
theme_override_styles/background = SubResource("StyleBoxFlat_ov0v5")
theme_override_styles/fill = SubResource("StyleBoxFlat_7khbq")
value = 60.0
show_percentage = false
